{"ast":null,"code":"import * as actionType from \"./actionTypes\";\nimport axios from \"axios\";\nimport { setError, setLoading, setSuccess, clearAlerts } from \"../alerts/actions\";\n\nconst addUserStart = () => ({\n  type: actionType.ADD_USER_START\n});\n\nconst addUserSuccess = data => ({\n  type: actionType.ADD_USER_SUCCESS,\n  payload: data\n});\n\nconst addUserFailed = data => ({\n  type: actionType.ADD_USER_FAILED,\n  payload: data\n});\n\nexport const clearUser = () => ({\n  type: actionType.CLEAR_USER\n});\n\nconst setUsers = data => ({\n  type: actionType.SET_USERS,\n  payload: data\n});\n\nexport const setUser = data => ({\n  type: actionType.SET_USER,\n  payload: data\n});\nexport const setModalType = data => ({\n  type: actionType.SET_MODAL_TYPE,\n  payload: data\n});\nexport const toggleModal = () => ({\n  type: actionType.TOGGLE_MODAL\n});\nexport const addUser = (data, history, clearInputs, toggle) => {\n  console.log(data);\n  return dispatch => {\n    dispatch(addUserStart());\n    axios.post(\"api/user\", data).then(res => {\n      dispatch(addUserSuccess(res.data.message));\n      dispatch(setLoading(false));\n      dispatch(toggleModal());\n      dispatch(getUsers(1, 10));\n      dispatch(setSuccess(res.data.message));\n    }).catch(err => {\n      dispatch(addUserFailed(err.response.data.message));\n      console.log(err);\n    });\n  };\n};\nexport const updateUser = (id, data, clearInputs) => {\n  console.log(data);\n  return dispatch => {\n    dispatch(addUserStart());\n    axios.patch(`api/user/${id}`, data).then(res => {\n      dispatch(addUserSuccess());\n      clearInputs();\n      dispatch(toggleModal()); // dispatch(setSuccess(res.data.message))\n\n      console.log(\"RES\", res);\n      dispatch(getUsers(1, 10));\n      dispatch(setSuccess(res.data.message)); // history.push(\"users\");\n    }).catch(err => {\n      dispatch(addUserFailed(err.response.data.message));\n      console.log(err);\n    });\n  };\n};\nexport const getUsers = (page, perPage, filterText = '') => {\n  return dispatch => {\n    dispatch(setLoading(true));\n    axios.get(`api/users?page=${page}&perPage=${perPage}&search=${filterText}`).then(res => {\n      dispatch(setUsers(res.data.body.users));\n      dispatch(setLoading(false));\n      console.log(\"RES\", res);\n    }).catch(err => {\n      dispatch(setLoading(false));\n      dispatch(setError(err.response.data.message));\n      console.log(err);\n    });\n  };\n};\nexport const changeUserStatus = (id, status) => {\n  console.log(status);\n  const fd = new FormData();\n  fd.append(\"status\", status);\n  return dispatch => {\n    dispatch(clearAlerts());\n    axios.patch(`api/user/${id}`, fd).then(res => {\n      dispatch(setSuccess(res.data.message));\n      console.log(\"RES\", res); // dispatch(getUsers());\n    }).catch(err => {\n      dispatch(setError(err.response.data.message));\n      console.log(err);\n    });\n  };\n};\nexport const deleteUser = (id, setDeletePopup, currentPage, perPage) => {\n  return dispatch => {\n    dispatch(clearAlerts());\n    dispatch(setLoading(true));\n    axios.delete(`api/user/${id}`).then(res => {\n      dispatch(setSuccess(res.data.message));\n      console.log(\"RES\", res);\n      dispatch(getUsers(currentPage, perPage));\n      setDeletePopup(false);\n    }).catch(err => {\n      dispatch(setError(err.response.data.message));\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/home/cqlnode/Documents/ADMIn/src/store/user/actions.js"],"names":["actionType","axios","setError","setLoading","setSuccess","clearAlerts","addUserStart","type","ADD_USER_START","addUserSuccess","data","ADD_USER_SUCCESS","payload","addUserFailed","ADD_USER_FAILED","clearUser","CLEAR_USER","setUsers","SET_USERS","setUser","SET_USER","setModalType","SET_MODAL_TYPE","toggleModal","TOGGLE_MODAL","addUser","history","clearInputs","toggle","console","log","dispatch","post","then","res","message","getUsers","catch","err","response","updateUser","id","patch","page","perPage","filterText","get","body","users","changeUserStatus","status","fd","FormData","append","deleteUser","setDeletePopup","currentPage","delete"],"mappings":"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","sourcesContent":["import * as actionType from \"./actionTypes\";\nimport axios from \"axios\";\nimport {\n  setError,\n  setLoading,\n  setSuccess,\n  clearAlerts,\n} from \"../alerts/actions\";\n\nconst addUserStart = () => ({\n  type: actionType.ADD_USER_START,\n});\n\nconst addUserSuccess = (data) => ({\n  type: actionType.ADD_USER_SUCCESS,\n  payload: data,\n});\n\nconst addUserFailed = (data) => ({\n  type: actionType.ADD_USER_FAILED,\n  payload: data,\n});\n\nexport const clearUser = () => ({\n  type: actionType.CLEAR_USER,\n});\n\nconst setUsers = (data) => ({\n  type: actionType.SET_USERS,\n  payload: data,\n});\n\nexport const setUser = (data) => ({\n  type: actionType.SET_USER,\n  payload: data,\n});\n\nexport const setModalType = (data) => ({\n  type: actionType.SET_MODAL_TYPE,\n  payload: data\n})\n\nexport const toggleModal = () => ({\n  type: actionType.TOGGLE_MODAL,\n})\n\nexport const addUser = (data, history, clearInputs, toggle) => {\n  console.log(data);\n  return (dispatch) => {\n   \n    dispatch(addUserStart());\n\n    axios\n      .post(\"api/user\", data)\n      .then((res) => {\n        dispatch(addUserSuccess(res.data.message));\n        dispatch(setLoading(false));\n        dispatch(toggleModal());\n        dispatch(getUsers(1,10));\n        dispatch(setSuccess(res.data.message));\n      })\n      .catch((err) => {\n        dispatch(addUserFailed(err.response.data.message));\n        console.log(err);\n      });\n  };\n};\n\nexport const updateUser = (id,data, clearInputs) => {\n  console.log(data);\n  return (dispatch) => {\n\n    dispatch(addUserStart());\n\n    axios\n      .patch(`api/user/${id}`, data)\n      .then((res) => {\n        dispatch(addUserSuccess());\n        clearInputs()\n        dispatch(toggleModal());\n          // dispatch(setSuccess(res.data.message))\n        \n        console.log(\"RES\", res);\n        dispatch(getUsers(1,10));\n        dispatch(setSuccess(res.data.message));\n        // history.push(\"users\");\n      })\n      .catch((err) => {\n        dispatch(addUserFailed(err.response.data.message));\n        console.log(err);\n      });\n  };\n};\n\nexport const getUsers = (page,perPage, filterText = '') => {\n  return (dispatch) => {\n\n    dispatch(setLoading(true));\n\n    axios\n      .get(`api/users?page=${page}&perPage=${perPage}&search=${filterText}`)\n      .then((res) => {\n        \n        dispatch(setUsers(res.data.body.users));\n        dispatch(setLoading(false));\n        console.log(\"RES\", res);\n      })\n      .catch((err) => {\n        dispatch(setLoading(false));\n        dispatch(setError(err.response.data.message));\n        console.log(err);\n      });\n  };\n};\n\nexport const changeUserStatus = (id, status) => {\n  console.log(status);\n  const fd = new FormData();\n  fd.append(\"status\", status);\n  return (dispatch) => {\n    dispatch(clearAlerts());\n    axios\n      .patch(`api/user/${id}`, fd)\n      .then((res) => {\n        dispatch(setSuccess(res.data.message));\n\n        console.log(\"RES\", res);\n        // dispatch(getUsers());\n      })\n      .catch((err) => {\n        dispatch(setError(err.response.data.message));\n        console.log(err);\n      });\n  };\n};\n\nexport const deleteUser = (id, setDeletePopup,currentPage, perPage) => {\n  return (dispatch) => {\n    dispatch(clearAlerts());\n    dispatch(setLoading(true));\n    axios\n      .delete(`api/user/${id}`)\n      .then((res) => {\n        dispatch(setSuccess(res.data.message));\n        console.log(\"RES\", res);\n\n        dispatch(getUsers(currentPage,perPage));\n        setDeletePopup(false);\n      })\n      .catch((err) => {\n        dispatch(setError(err.response.data.message));\n        console.log(err);\n      });\n  };\n};"]},"metadata":{},"sourceType":"module"}