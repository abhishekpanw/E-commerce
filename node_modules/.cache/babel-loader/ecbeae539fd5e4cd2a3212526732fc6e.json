{"ast":null,"code":"var _jsxFileName = \"/home/cqlnode/Documents/ADMIn/src/pages/Users/AddUser.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Row, Col, Card, CardBody, Label } from \"reactstrap\";\nimport { AvForm, AvField, AvRadioGroup, AvRadio } from \"availity-reactstrap-validation\";\nimport { addUser, clearUser, setModalType, toggleModal, updateUser } from \"../../store/user/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddUser = ({\n  modal,\n  modalType\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const state = useSelector(state => state.user);\n  let history = useHistory(); // let user = \n\n  const [data, setData] = useState({\n    name: \"\",\n    email: \"\",\n    age: \"\",\n    gender: \"\",\n    image: \"\"\n  });\n  useEffect(() => {\n    setData({\n      name: state.user.name,\n      email: state.user.email,\n      age: state.user.age,\n      gender: state.user.gender\n    });\n  }, [state.user]);\n\n  const handleChange = e => {\n    console.log();\n\n    if (e.target.name === \"image\") {\n      setData(prev => {\n        return { ...prev,\n          [e.target.name]: e.target.files[0]\n        };\n      });\n    } else {\n      setData(prev => {\n        return { ...prev,\n          [e.target.name]: e.target.value\n        };\n      });\n    }\n\n    console.log(data);\n  };\n\n  const handleSubmit = () => {\n    let formData = new FormData();\n    formData.append(\"name\", data.name);\n    formData.append(\"email\", data.email);\n    formData.append(\"gender\", data.gender);\n    formData.append(\"age\", data.age);\n    formData.append(\"image\", data.image);\n    dispatch(addUser(formData, history, clearInputs));\n  };\n\n  const handleUpdate = () => {\n    let formData = new FormData();\n    console.log(state.user._id); // alert(state.user.user_id)\n\n    formData.append(\"name\", data.name);\n    formData.append(\"email\", data.email);\n    formData.append(\"gender\", data.gender);\n    formData.append(\"age\", data.age);\n\n    if (data.image) {\n      formData.append(\"image\", data.image);\n    }\n\n    dispatch(updateUser(state.user._id, formData, clearInputs));\n  };\n\n  const clearInputs = () => {\n    setData({\n      name: \"\",\n      email: \"\",\n      gender: \"\",\n      age: \"\",\n      image: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: state.isModalOpen,\n      scrollable: true,\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        toggle: () => dispatch(toggleModal()),\n        children: \"Add User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pae-content\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: {\n                size: 12\n              },\n              children: /*#__PURE__*/_jsxDEV(AvForm, {\n                className: \"needs-validation\",\n                onValidSubmit: state.modalType != 'edit' ? () => handleSubmit() : () => handleUpdate(),\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"form-label\",\n                        htmlFor: \"validationCustom01\",\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 127,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        name: \"name\",\n                        placeholder: \"Name\",\n                        type: \"text\",\n                        errorMessage: \"Enter Name\",\n                        className: \"form-control\",\n                        validate: {\n                          required: {\n                            value: true\n                          },\n                          minLength: {\n                            value: 3,\n                            errorMessage: \"Min 3 chars.\"\n                          }\n                        },\n                        id: \"validationCustom01\",\n                        value: data.name,\n                        onChange: handleChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"form-label\",\n                        htmlFor: \"validationCustom02\",\n                        children: \"Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        name: \"email\",\n                        placeholder: \"Email\",\n                        type: \"text\",\n                        errorMessage: \"Enter Email\",\n                        className: \"form-control\",\n                        validate: {\n                          required: {\n                            value: true\n                          },\n                          email: true\n                        },\n                        id: \"validationCustom02\",\n                        value: data.email,\n                        onChange: handleChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 162,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"form-label\",\n                        htmlFor: \"validationCustom02\",\n                        children: \"Age\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 180,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        name: \"age\",\n                        placeholder: \"Age\",\n                        errorMessage: \"Enter Age\",\n                        type: \"number\",\n                        className: \"form-control\",\n                        validate: {\n                          required: {\n                            value: true,\n                            email: true\n                          }\n                        },\n                        id: \"validationCustom02\",\n                        value: data.age,\n                        onChange: handleChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"form-label\",\n                        htmlFor: \"validationCustom04\",\n                        children: \"Select Gender\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(AvRadioGroup, {\n                        inline: true,\n                        name: \"gender\" // label=\"Gender\"\n                        ,\n                        required: true,\n                        errorMessage: \"Please Select Gender\",\n                        value: data.gender,\n                        onChange: handleChange,\n                        children: [/*#__PURE__*/_jsxDEV(AvRadio, {\n                          label: \"Male\",\n                          value: \"M\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 221,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(AvRadio, {\n                          label: \"Female\",\n                          value: \"F\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 222,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        className: \"form-label\",\n                        htmlFor: \"validationCustom02\",\n                        children: \"Profile Image\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                        name: \"image\",\n                        placeholder: \"Select Image\",\n                        type: \"file\",\n                        errorMessage: \"Select Image\",\n                        className: \"form-control\",\n                        validate: {\n                          required: {\n                            value: true\n                          }\n                        },\n                        id: \"validationCustom02\",\n                        onChange: handleChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 237,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    width: \"100\",\n                    color: \"primary\",\n                    type: \"submit\",\n                    disabled: state.loading,\n                    children: state.loading ? /*#__PURE__*/_jsxDEV(Loader, {\n                      type: \"TailSpin\",\n                      color: \"#00BFFF\",\n                      height: 20,\n                      width: 48\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 25\n                    }, this) : state.modalType == 'edit' ? 'Update' : 'Submit'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"secondary\",\n                    onClick: () => {\n                      dispatch(toggleModal());\n                      dispatch(setModalType(''));\n                      clearInputs();\n                    },\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddUser, \"LAcJNY+WOY+eQ4ehWKDP2vIszds=\", false, function () {\n  return [useDispatch, useSelector, useHistory];\n});\n\n_c = AddUser;\nexport default AddUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddUser\");","map":{"version":3,"sources":["/home/cqlnode/Documents/ADMIn/src/pages/Users/AddUser.jsx"],"names":["React","useState","useEffect","Button","Modal","ModalHeader","ModalBody","ModalFooter","Row","Col","Card","CardBody","Label","AvForm","AvField","AvRadioGroup","AvRadio","addUser","clearUser","setModalType","toggleModal","updateUser","useDispatch","useSelector","Loader","useHistory","AddUser","modal","modalType","dispatch","state","user","history","data","setData","name","email","age","gender","image","handleChange","e","console","log","target","prev","files","value","handleSubmit","formData","FormData","append","clearInputs","handleUpdate","_id","isModalOpen","size","required","minLength","errorMessage","loading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  Label,\n} from \"reactstrap\";\nimport {\n  AvForm,\n  AvField,\n  AvRadioGroup,\n  AvRadio,\n} from \"availity-reactstrap-validation\";\nimport { addUser, clearUser, setModalType, toggleModal, updateUser } from \"../../store/user/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { useHistory } from \"react-router\";\n\nconst AddUser = ({ modal, modalType }) => {\n\n  const dispatch = useDispatch();\n  const state = useSelector((state) => state.user);\n  let history = useHistory();\n  \n  // let user = \n  \n\n  const [data, setData] = useState({\n    name: \"\",\n    email: \"\",\n    age: \"\",\n    gender: \"\",\n    image: \"\",\n  });\n\n  useEffect(() => {\n    setData({\n      name: state.user.name,\n      email: state.user.email,\n      age: state.user.age,\n      gender: state.user.gender\n    })\n  }, [state.user])\n\n \n  const handleChange = (e) => {\n    console.log();\n\n    if (e.target.name === \"image\") {\n      setData((prev) => {\n        return {\n          ...prev,\n          [e.target.name]: e.target.files[0],\n        };\n      });\n    } else {\n      setData((prev) => {\n        return {\n          ...prev,\n          [e.target.name]: e.target.value,\n        };\n      });\n    }\n\n    console.log(data);\n  };\n\n  const handleSubmit = () => {\n    let formData = new FormData();\n    formData.append(\"name\", data.name);\n    formData.append(\"email\", data.email);\n    formData.append(\"gender\", data.gender);\n    formData.append(\"age\", data.age);\n    formData.append(\"image\", data.image);\n    dispatch(addUser(formData, history, clearInputs));\n  };\n\n  const handleUpdate = () => {\n\n    let formData = new FormData();\n    console.log(state.user._id);\n    // alert(state.user.user_id)\n    formData.append(\"name\", data.name);\n    formData.append(\"email\", data.email);\n    formData.append(\"gender\", data.gender);\n    formData.append(\"age\", data.age);\n    if(data.image){\n      formData.append(\"image\", data.image);\n    }\n    dispatch(updateUser(state.user._id,formData, clearInputs));\n    \n  }\n\n  const clearInputs = () => {\n    setData({\n      name: \"\",\n      email: \"\",\n      gender: \"\",\n      age: \"\",\n      image: \"\",\n    });\n  };\n\n  return (\n    <div>\n      <Modal isOpen={state.isModalOpen} scrollable={true}>\n        <ModalHeader toggle={()=> dispatch(toggleModal())}>Add User</ModalHeader>\n        <ModalBody>\n          <div className=\"pae-content\">\n            <Row>\n              <Col md={{ size: 12 }}>\n                <AvForm\n                  className=\"needs-validation\"\n                  onValidSubmit={state.modalType != 'edit'? ()=> handleSubmit() :()=> handleUpdate()}              \n                > \n                  \n                  <Row>\n                    <Col>\n                      <div className=\"mb-3\">\n                        <Label\n                          className=\"form-label\"\n                          htmlFor=\"validationCustom01\"\n                        >\n                          Name\n                        </Label>\n                        <AvField\n                          name=\"name\"\n                          placeholder=\"Name\"\n                          type=\"text\"\n                          errorMessage=\"Enter Name\"\n                          className=\"form-control\"\n                          validate={{\n                            required: { value: true },\n                            minLength: {\n                              value: 3,\n                              errorMessage: \"Min 3 chars.\",\n                            },\n                          }}\n                          id=\"validationCustom01\"\n                          value={data.name}\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col>\n                      <div className=\"mb-3\">\n                        <Label\n                          className=\"form-label\"\n                          htmlFor=\"validationCustom02\"\n                        >\n                          Email\n                        </Label>\n                        <AvField\n                          name=\"email\"\n                          placeholder=\"Email\"\n                          type=\"text\"\n                          errorMessage=\"Enter Email\"\n                          className=\"form-control\"\n                          validate={{ required: { value: true }, email: true }}\n                          id=\"validationCustom02\"\n                          value={data.email}\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </Col>\n                  </Row>\n\n                  <Row>\n                    <Col>\n                      <div className=\"mb-3\">\n                        <Label\n                          className=\"form-label\"\n                          htmlFor=\"validationCustom02\"\n                        >\n                          Age\n                        </Label>\n                        <AvField\n                          name=\"age\"\n                          placeholder=\"Age\"\n                          errorMessage=\"Enter Age\"\n                          type=\"number\"\n                          className=\"form-control\"\n                          validate={{\n                            required: { value: true, email: true },\n                          }}\n                          id=\"validationCustom02\"\n                          value={data.age}\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </Col>\n                  </Row>\n\n                  <Row>\n                    <Col>\n                      <div className=\"mb-3\">\n                        <Label\n                          className=\"form-label\"\n                          htmlFor=\"validationCustom04\"\n                        >\n                          Select Gender\n                        </Label>\n                        <AvRadioGroup\n                          inline\n                          name=\"gender\"\n                          // label=\"Gender\"\n                          required\n                          errorMessage=\"Please Select Gender\"\n                          value={data.gender}\n                          onChange={handleChange}\n                        >\n                          <AvRadio label=\"Male\" value=\"M\" />\n                          <AvRadio label=\"Female\" value=\"F\" />\n                        </AvRadioGroup>\n                      </div>\n                    </Col>\n                  </Row>\n\n                  <Row>\n                    <Col>\n                      <div className=\"mb-3\">\n                        <Label\n                          className=\"form-label\"\n                          htmlFor=\"validationCustom02\"\n                        >\n                          Profile Image\n                        </Label>\n                        <AvField\n                          name=\"image\"\n                          placeholder=\"Select Image\"\n                          type=\"file\"\n                          errorMessage=\"Select Image\"\n                          className=\"form-control\"\n                          validate={{ required: { value: true } }}\n                          id=\"validationCustom02\"\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </Col>\n                  </Row>\n\n                  <ModalFooter>\n                    <Button\n                      width=\"100\"\n                      color=\"primary\"\n                      type=\"submit\"\n                      disabled={state.loading}\n                    >\n                      {state.loading ? (\n                        <Loader\n                          type=\"TailSpin\"\n                          color=\"#00BFFF\"\n                          height={20}\n                          width={48}\n                        />\n                      ) : (\n                        state.modalType == 'edit'? 'Update': 'Submit'\n                      \n                      )}\n                    </Button>\n                    <Button color=\"secondary\" onClick={() =>{ \n                      dispatch(toggleModal())\n                      dispatch(setModalType(''))                        \n                      clearInputs()\n                      }}>\n                      Cancel\n                    </Button>\n                  </ModalFooter>\n                </AvForm>\n              </Col>\n            </Row>\n          </div>\n        </ModalBody>\n      </Modal>\n    </div>\n  );\n};\n\nexport default AddUser;"]},"metadata":{},"sourceType":"module"}