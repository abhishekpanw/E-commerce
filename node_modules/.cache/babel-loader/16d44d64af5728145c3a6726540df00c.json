{"ast":null,"code":"import * as actionType from \"./actionTypes\";\nimport axios from \"axios\";\nimport { setError, setLoading, setSuccess, clearAlerts } from \"../alerts/actions\";\n\nconst addProductStart = () => ({\n  type: actionType.ADD_PRODUCT_START\n});\n\nconst addProductSuccess = data => ({\n  type: actionType.ADD_PRODUCT_SUCCESS,\n  payload: data\n});\n\nconst addProductFailed = data => ({\n  type: actionType.ADD_PRODUCT_FAILED,\n  payload: data\n});\n\nexport const clearProduct = () => ({\n  type: actionType.CLEAR_PRODUCT\n});\n\nconst setProducts = data => ({\n  type: actionType.SET_PRODUCTS,\n  payload: data\n});\n\nexport const setProduct = data => ({\n  type: actionType.SET_PRODUCT,\n  payload: data\n});\nexport const getProducts = (page, perPage, filterText = '') => {\n  return dispatch => {\n    dispatch(setLoading(true));\n    axios.get(`api/products?page=${page}&perPage=${perPage}&search=${filterText}`).then(res => {\n      dispatch(setProducts(res.data.body.products));\n      dispatch(setLoading(false));\n      console.log(\"RES\", res);\n    }).catch(err => {\n      dispatch(setLoading(false));\n      dispatch(setError(err.response.data.message));\n    });\n  };\n};\nexport const addProduct = (data, clearInputs) => {\n  console.log(data);\n  return dispatch => {\n    dispatch(addProductStart());\n    axios.post(\"api/product\", data).then(res => {\n      dispatch(addProductSuccess());\n      dispatch(getProducts(1, 10));\n      dispatch(setSuccess(res.data.message)); // history.push(\"users\");\n    }).catch(err => {\n      dispatch(setError(err.response.data.message));\n      dispatch(addProductFailed());\n      console.log(err);\n    });\n  };\n};\nexport const updateProduct = (id, data, clearInputs) => {\n  return dispatch => {\n    dispatch(addProductStart());\n    axios.patch(`api/product/${id}`, data).then(res => {\n      dispatch(addProductSuccess());\n      clearInputs();\n      dispatch(getProducts(1, 10));\n      dispatch(setSuccess(res.data.message)); // history.push(\"users\");\n    }).catch(err => {\n      dispatch(addProductFailed(err.response.data.message));\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/home/cqlnode/Documents/ADMIn/src/store/product/actions.js"],"names":["actionType","axios","setError","setLoading","setSuccess","clearAlerts","addProductStart","type","ADD_PRODUCT_START","addProductSuccess","data","ADD_PRODUCT_SUCCESS","payload","addProductFailed","ADD_PRODUCT_FAILED","clearProduct","CLEAR_PRODUCT","setProducts","SET_PRODUCTS","setProduct","SET_PRODUCT","getProducts","page","perPage","filterText","dispatch","get","then","res","body","products","console","log","catch","err","response","message","addProduct","clearInputs","post","updateProduct","id","patch"],"mappings":"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","sourcesContent":["import * as actionType from \"./actionTypes\";\nimport axios from \"axios\";\nimport {\n  setError,\n  setLoading,\n  setSuccess,\n  clearAlerts,\n} from \"../alerts/actions\";\n\nconst addProductStart = () => ({\n  type: actionType.ADD_PRODUCT_START,\n});\n\nconst addProductSuccess = (data) => ({\n  type: actionType.ADD_PRODUCT_SUCCESS,\n  payload: data,\n});\n\nconst addProductFailed = (data) => ({\n  type: actionType.ADD_PRODUCT_FAILED,\n  payload: data,\n});\n\nexport const clearProduct = () => ({\n  type: actionType.CLEAR_PRODUCT,\n});\n\nconst setProducts = (data) => ({\n  type: actionType.SET_PRODUCTS,\n  payload: data,\n});\n\nexport const setProduct = (data) => ({\n  type: actionType.SET_PRODUCT,\n  payload: data,\n});\n\nexport const getProducts = (page,perPage, filterText = '') => {\n  return (dispatch) => {\n\n    dispatch(setLoading(true));\n    axios\n      .get(`api/products?page=${page}&perPage=${perPage}&search=${filterText}`)\n      .then((res) => {\n        dispatch(setProducts(res.data.body.products));\n        dispatch(setLoading(false));\n\n        console.log(\"RES\", res);\n      })\n      .catch((err) => {\n        dispatch(setLoading(false));\n        dispatch(setError(err.response.data.message));\n      });\n  };\n};\n\n\nexport const addProduct = (data, clearInputs) => {\n  console.log(data);\n  return (dispatch) => {\n \n    dispatch(addProductStart());\n\n    axios\n      .post(\"api/product\", data)\n      .then((res) => {\n        dispatch(addProductSuccess());\n        dispatch(getProducts(1,10));\n        dispatch(setSuccess(res.data.message));\n        // history.push(\"users\");\n      })\n      .catch((err) => {\n        dispatch(setError(err.response.data.message));\n        dispatch(addProductFailed());\n        console.log(err);\n      });\n  };\n};\n\nexport const updateProduct = (id,data, clearInputs) => {\n\n  return (dispatch) => {\n\n    dispatch(addProductStart());\n\n    axios\n      .patch(`api/product/${id}`, data)\n      .then((res) => {\n        dispatch(addProductSuccess());\n        clearInputs()\n        dispatch(getProducts(1,10));\n        dispatch(setSuccess(res.data.message))\n        // history.push(\"users\");\n      })\n      .catch((err) => {\n        dispatch(addProductFailed(err.response.data.message));\n        console.log(err);\n      });\n  };\n};\n\n\n"]},"metadata":{},"sourceType":"module"}